# Cocina Express üç≥üì±

**Proyecto Final - Dise√±o de Software**  
Instituto Tecnol√≥gico de Costa Rica - Campus San Carlos  
I Semestre 2025

## üìã Descripci√≥n del Proyecto

Cocina Express es una aplicaci√≥n de delivery innovadora donde los clientes pueden personalizar completamente la preparaci√≥n de sus comidas. Las empresas proveedoras ofrecen bases o ingredientes que se adaptan al gusto espec√≠fico de cada cliente, incluyendo servicios de dieta especial, alimentaci√≥n por condiciones de salud, control de peso, o simplemente preferencias personales.

### üéØ Caracter√≠sticas Principales

- **Personalizaci√≥n Total**: Los clientes especifican exactamente c√≥mo quieren su comida preparada
- **Servicios Flexibles**: Pedidos √∫nicos o servicios continuados de dieta
- **Dietas Especializadas**: Soporte para condiciones especiales de alimentaci√≥n
- **Experiencia Multiplataforma**: Aplicaci√≥n m√≥vil para clientes y panel web para administraci√≥n

## üèóÔ∏è Arquitectura del Proyecto

### Estructura de Directorios

```
COOKAPP/
‚îú‚îÄ‚îÄ assets/                 # Recursos est√°ticos
‚îÇ   ‚îî‚îÄ‚îÄ g-logo.png         # Logo de la aplicaci√≥n
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ screens/           # Pantallas principales
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/          # Autenticaci√≥n
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LoginScreen.js
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ CompleteProfileScreen.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main/          # Pantallas principales
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AdminScreen.js
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FavoritesScreen.js
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HomeScreen.js
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OrdersScreen.js
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ProfileScreen.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MainTabNavigator.js
‚îÇ   ‚îú‚îÄ‚îÄ components/        # Componentes reutilizables
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CustomTabBar.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ThemeToggle.js
‚îÇ   ‚îú‚îÄ‚îÄ services/          # Servicios y API calls
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ authService.js
‚îÇ   ‚îú‚îÄ‚îÄ context/           # Context providers
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AuthContext.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ThemeContext.js
‚îÇ   ‚îî‚îÄ‚îÄ styles/            # Estilos globales
‚îÇ       ‚îî‚îÄ‚îÄ colors.js
‚îî‚îÄ‚îÄ App.js                 # Punto de entrada
```

## üõ†Ô∏è Stack Tecnol√≥gico

### Frontend M√≥vil
- **React Native**: Framework principal para desarrollo m√≥vil multiplataforma
- **Expo**: Plataforma de desarrollo que facilita el build y deployment
- **React Navigation**: Sistema de navegaci√≥n con tab navigator personalizado
- **Context API**: Manejo de estado global para autenticaci√≥n y temas
- **AsyncStorage**: Persistencia local de datos del usuario
- **Expo Auth Session**: Integraci√≥n con autenticaci√≥n de Google
- **Expo Vector Icons**: Librer√≠a de iconos (Ionicons)

### Autenticaci√≥n
- **Google OAuth 2.0**: Autenticaci√≥n mediante Google usando Expo Auth Session
- **JWT Tokens**: Para manejo de sesiones (implementaci√≥n futura)
- **Flujo de autenticaci√≥n**: Login ‚Üí Verificaci√≥n ‚Üí Completar perfil ‚Üí Aplicaci√≥n principal

### Backend API
- **URL Base**: https://cocina-express-api.onrender.com/api
- **Endpoints principales**:
  - `GET /users/google/{googleId}` - Verificar existencia de usuario
  - `POST /users` - Crear nuevo usuario
- **ORM**: Para abstracci√≥n de base de datos y protecci√≥n contra SQL injection
- **Hosting**: Render (para deployment en la nube)

### Base de Datos
- **Base de datos en l√≠nea** (SQL o NoSQL)
- **M√≠nimo 100 registros** en entidades principales para demostraci√≥n
- **Estructura de datos**:
  - Usuarios con Google ID, perfil completo, roles
  - Restaurantes y men√∫s personalizables
  - Pedidos con especificaciones detalladas
  - Sistema de favoritos

### Recursos Multimedia
- Soporte para im√°genes, videos, audios y texto
- Integraci√≥n de contenido multimedia en la experiencia del usuario
- Carga y visualizaci√≥n de im√°genes de perfil de Google

## üé® Dise√±o UX/UI

### Met√°fora de Dise√±o
El dise√±o se basa en la met√°fora de una **"cocina personalizada"** donde cada cliente es el chef de su propia experiencia culinaria, seleccionando ingredientes y m√©todos de preparaci√≥n como si estuviera en su propia cocina.

### Temas
- **Modo Claro/Oscuro**: Implementado a trav√©s de ThemeContext
- **Navegaci√≥n por Pesta√±as**: Experiencia intuitiva con CustomTabBar

## üë• Equipo de Desarrollo

- **Tama√±o del equipo**: 2-3 personas m√°ximo
- **Metodolog√≠a**: SCRUM con sprints semanales
- **Herramientas de gesti√≥n**: Jira para tracking y documentaci√≥n

## üìÖ Cronograma de Desarrollo

### Sprint #1 (20-26 Mayo 2025)
- [x] Verificaci√≥n de herramientas de trabajo
- [x] Selecci√≥n de stack tecnol√≥gico
- [x] Configuraci√≥n del proyecto
- [x] Definici√≥n de requerimientos
- [x] Setup inicial de Jira
- [x] Creaci√≥n de carpeta compartida en Google Drive

### Sprint #2 (27 Mayo - 2 Junio 2025)
- [ ] Implementaci√≥n de autenticaci√≥n
- [ ] Desarrollo de pantallas principales
- [ ] Configuraci√≥n del API b√°sico

### Sprint #3 (3-9 Junio 2025)
- [ ] Funcionalidades de personalizaci√≥n de pedidos
- [ ] Integraci√≥n con base de datos
- [ ] Implementaci√≥n de favoritos

### Sprint #4 (10-16 Junio 2025)
- [ ] Sistema de pedidos completo
- [ ] Panel de administraci√≥n
- [ ] Funcionalidades avanzadas

### Sprint #5 (17-24 Junio 2025)
- [ ] Deployment en plataforma de nube
- [ ] Pruebas finales
- [ ] Optimizaci√≥n y pulido

## üöÄ Instalaci√≥n y Configuraci√≥n

### Prerrequisitos
```bash
# Node.js (versi√≥n recomendada)
node --version

# React Native CLI
npm install -g react-native-cli

# Expo CLI (si se usa Expo)
npm install -g @expo/cli
```

### Instalaci√≥n
```bash
# Clonar el repositorio
git clone https://github.com/DanielAR27/Proyecto3-IC6821

# Navegar al directorio
cd cookapp

# Instalar dependencias
npm install

# Instalar dependencias de Expo
npx expo install

# Ejecutar la aplicaci√≥n
npx expo run:android --device
```

> Debe habilitar el modo desarollador en  su celular y activar la depuraci√≥n por USB.

### Configuraci√≥n del Entorno

#### Variables de Entorno
Crear archivo `.env` en la ra√≠z del proyecto (en la carpeta cookapp):
```env
# Google OAuth Configuration
EXPO_PUBLIC_GOOGLE_ANDROID_CLIENT_ID=8348128087-pbq20qn3k627ed5dackc0e0ss4foeuk1.apps.googleusercontent.com

# API Configuration
EXPO_PUBLIC_API_BASE_URL=https://cocina-express-api.onrender.com/api
```

#### Configuraci√≥n de Google OAuth
1. Crear proyecto en [Google Cloud Console](https://console.cloud.google.com/)
2. Habilitar Google+ API
3. Crear credenciales OAuth 2.0
4. Configurar bundle identifier para Android
5. Agregar certificado SHA-1 para Android

#### Dependencias Principales
```json
{
  "@react-navigation/bottom-tabs": "navegaci√≥n por pesta√±as",
  "@react-navigation/native": "navegaci√≥n principal",
  "@react-native-async-storage/async-storage": "almacenamiento local",
  "expo-auth-session": "autenticaci√≥n OAuth",
  "expo-web-browser": "navegador web integrado",
  "@expo/vector-icons": "iconos",
  "expo": "plataforma de desarrollo"
}
```

## üì± Funcionalidades Implementadas

### Sistema de Autenticaci√≥n
- **Google OAuth Integration**: Login completo con Google usando Expo Auth Session
- **Verificaci√≥n de Usuario**: Comprobaci√≥n autom√°tica si el usuario ya existe en la base de datos
- **Registro Guiado**: Flujo de completar perfil para usuarios nuevos
- **Persistencia de Sesi√≥n**: Uso de AsyncStorage para mantener sesi√≥n activa
- **Roles de Usuario**: Sistema de roles (customer, admin, owner) con permisos diferenciados

### Navegaci√≥n y UI/UX
- **Tab Navigation Personalizada**: CustomTabBar con iconos Ionicons
- **Tema Din√°mico**: Modo claro/oscuro con ThemeContext
- **Navegaci√≥n Condicional**: Tabs que aparecen seg√∫n el rol del usuario
- **Estados de Carga**: Indicadores visuales durante procesos async
- **Dise√±o Responsivo**: Adaptaci√≥n a diferentes tama√±os de pantalla

### Pantallas Principales

#### LoginScreen
- Integraci√≥n completa con Google OAuth
- Manejo de estados de carga y errores
- UI atractiva con logo de Google
- Validaci√≥n de t√©rminos de servicio

#### CompleteProfileScreen
- Formulario completo de registro
- Validaci√≥n de campos obligatorios
- Validaci√≥n de formato de tel√©fono costarricense
- Campos de direcci√≥n completos
- Manejo de errores de API

#### HomeScreen
- Pantalla de bienvenida personalizada
- Estado vac√≠o elegante para restaurantes
- Preparada para mostrar lista de restaurantes

#### ProfileScreen
- Visualizaci√≥n de datos del usuario
- Foto de perfil de Google
- Toggle de tema claro/oscuro
- Opci√≥n de cerrar sesi√≥n con confirmaci√≥n
- Preparado para actualizaci√≥n de datos

#### OrdersScreen
- Estado vac√≠o para pedidos
- Header con t√≠tulo personalizado
- Preparado para mostrar historial de pedidos

#### FavoritesScreen
- Estado vac√≠o para favoritos
- Dise√±o consistente con el resto de la app
- Preparado para sistema de favoritos

#### AdminScreen
- Acceso restringido por roles
- Diferenciaci√≥n entre admin y owner
- Preparado para funcionalidades administrativas

### Servicios y API
- **authService.js**: Comunicaci√≥n completa con backend
- **Manejo de Errores**: Try-catch robusto en todas las llamadas
- **Endpoints Funcionales**: Verificaci√≥n y creaci√≥n de usuarios
- **Google API Integration**: Obtenci√≥n de datos de usuario de Google

### Sistema de Temas
- **Colores Definidos**: Paleta completa para modo claro y oscuro
- **Consistencia Visual**: Mismo esquema de colores en toda la app
- **Accesibilidad**: Contraste adecuado entre temas
- **Elementos Espec√≠ficos**: Colores para tabs, bordes, sombras, etc.

## üîß Desarrollo y Testing

### Estructura del C√≥digo
- **Separaci√≥n de Responsabilidades**: Pantallas, componentes, servicios y contextos bien organizados
- **Reutilizaci√≥n de Componentes**: CustomTabBar y ThemeToggle como componentes reutilizables
- **Manejo de Estado**: Context API para estado global, hooks para estado local
- **Estilos Din√°micos**: Funci√≥n `createStyles(theme)` para temas adaptativos

### Flujo de Autenticaci√≥n
```
1. App.js verifica AsyncStorage
2. Si no hay usuario ‚Üí LoginScreen
3. Google OAuth ‚Üí Obtener access token
4. Verificar usuario en API ‚Üí checkUserExists()
5. Si existe ‚Üí MainTabNavigator
6. Si no existe ‚Üí CompleteProfileScreen ‚Üí createUser()
7. Guardar en AsyncStorage ‚Üí MainTabNavigator
```

### Testing y Debugging
- **Console Logs**: Implementados en puntos cr√≠ticos
- **Error Handling**: Try-catch en todas las operaciones async
- **Loading States**: Estados de carga para mejor UX
- **Alert Messages**: Confirmaciones y mensajes de error
- **Debug Info**: Informaci√≥n de debugging en pantalla de login (comentada)

### API Integration
```javascript
// Ejemplo de llamada a API
const checkUserExists = async (googleId) => {
  const response = await fetch(`${API_BASE_URL}/users/google/${googleId}`);
  if (response.status === 404) return { exists: false };
  const data = await response.json();
  return { exists: true, user: data.data };
};
```

